- content_for :head do
  :javascript 
    $(function(){
      if ($.fn.datepicker) {
        $(".ux-datepicker:not([readonly])")
          .click(function(){ $(this).datepicker("show"); })
          .datepicker();
      }
    });
= render 'collections/tabs'

.tabsline
  #reminders-main.hidden-until-loaded
    %h2 Reminders
    <!-- ko foreach: reminders -->
    .box.grey.w60
      .toptitle
        %span Vaccines
        &rarr;
        %em Montly for all sites
      .rightbuttons
        %button.fdelete
      .message
        %span This is to inform that the condition will be applied....TThis is to inform that the condition will be applied....This is to inform that the condition will be applied....TThis is to inform that the condition will be applied....

      %button.farrow Edit
    %br/
    <!-- /ko-->
    .box.w60{ko(visible: 'isVisibleFormEntry()')}
      <!-- ko with: currentReminder -->
      %label{ko(css: {error: 'nameError'})} Name
      %br/
      %input.w30{ko(value: 'name', valueUpdate: :afterkeydown), type: :text}
      %br/

      %label{ko(css: {error: 'sitesError'})} Sites
      %br/
      %label.smalltext site's owner will receive this reminder 
      %br/
      %input.sites{ko(superblyTagField: 'sites', valueUpdate: :afterkeydown), type: :text}
      %br/
      %label{ko(css: {error: 'reminderDateError'})} Date
      %br/
      %input.ux-datepicker.w20{ko(value: :reminder_date,valueUpdate: :afterkeydown, bindDatePicker: true), type: :text }
      %select{ko(options: '$root.getTimes()', value: :reminder_time)}
      %label repeat
      %select{ko(options: '$root.repeats', optionsText: "'name'", optionsValue: "'id'")}
      %br/

      %label{ko(css: {error: 'reminderMessageError'})} Message
      %br/
      %textarea.ux-wajbar.w30{ko(value: :reminder_message, valueUpdate: :afterkeydown), placeholder: 'Write your comment here', maxlength: 140, rows: 4 }

      .clear

      %hr/
      .bottom-actions
        %button.white{ ko(click: '$root.saveReminder')} Save
        %a.tgrey{ href: 'javascript:void(0)' } Cancel
        %span{ko(text: "error()"), style: 'color:red;margin-left:20px'}
      <!-- /ko -->
    -# Add new reminder link
    .box.grey.add{ ko(visible: '!currentReminder()', click: 'showAddReminder'), style: 'display:none'}
      %span Add Reminder
      %button.cadd.right{type: :button}
      %br{clear: :all}
